[gd_resource type="Resource" script_class="ReframeCompositorEffectPreset" load_steps=2 format=3 uid="uid://x55wkxcbwr7l"]

[ext_resource type="Script" uid="uid://b88yvpo0ox613" path="res://addons/reframe/compositor/scripts/src_reframe_compsitor_effect_preset.gd" id="1_2wwrh"]

[resource]
script = ExtResource("1_2wwrh")
name = &"Dithering"
main = "//  Dithering
// Based on ps1
const float dithering_strength = 1.0;
const float dithering_normalization_factor = 31.0;
const int DITHER_MATRIX[16] = int[](
    0,	8,	2,	10,
    12,	4,	14,	6,
    3,	11,	1,	9,
    15,	7,	13,	5
);

// Dither
const int dither_index =  index.x % 4 +  index.y % 4 * 4;
const float dither = float(DITHER_MATRIX[dither_index]) / dithering_normalization_factor * dithering_strength * 0.1;
color.rgb += vec3(dither);"
metadata/_custom_type_script = "uid://b88yvpo0ox613"
